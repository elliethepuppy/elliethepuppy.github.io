{"repository_name":"time_it","body":"# time_it\n\ntime-it is an application for timing another application. this is a crystal implementation. the basis for this is my original [python implementation](https://github.com/elliethepuppy/time-it). you can read the full documentation [here](https://elliethepuppy.github.io/time-it)\n\n## Installation\n\nto install, you can build from source, or download a compiled binary from the releases section.\n\nbuild instructions are simple. from the `time-it-cr` directory, run\n\n``` bash\ncrystal build src/main.cr -o /path/to/destination/for/time-it --release --no-debug\n```\n\n## Usage\n\n```\nusage: time-it [flags] [exe or interpreted] [program name or path to program]\n\n    -l, --log                        write generated output to the log file at ~/.cache/time-it.log\n\n    -cl, --clear-log                 clear the log at ~/.cache/time-it.log\n\n    -no, --no-output                 run the program without generating output to the terminal (use -l to get the info)\n    -i INTERPRETER, --interpreter=INTERPRETER\n                                     set interpreter to be used to INTERPRETER\n\n    -e EXECUTABLE, --executable=EXECUTABLE\n                                     set the executable to be times to EXECUTABLE\n\n    -a 'ARGS', --args='ARGS'         set the arguments for the timed program\n\n    -r INT, --runs=INT               set the number of runs to time the program\n\n    -lp PATH, --log-path=PATH        set the path of the log file for this run to PATH\n\n    -v, --version                    display the version number\n    -h, --help                       show this help message\n\n```\n\nin order to call `time-it` from anywhere, you'll need to add it to your PATH. you can do this any number of ways, so i'll leave you to deciding the best for you. you can read the full documentation [here](https://elliethepuppy.github.io/time-it)\n\n## Development\n\nthere's no real need to develop on top of this, so i leave it to you to determine the best methods for that.\n\n## Contributing\n\nif you can make any better decsions, feel free to follow these steps:\n\n1. Fork it (<https://github.com/elliethepuppy/time-it-cr/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [ellie](https://github.com/elliethepuppy) - creator and maintainer\n","program":{"html_id":"time_it/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"time_it","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"time_it/TimeIt","path":"TimeIt.html","kind":"module","full_name":"TimeIt","name":"TimeIt","abstract":false,"locations":[{"filename":"src/time_it.cr","line_number":3,"url":null}],"repository_name":"time_it","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"VERSION","name":"VERSION","value":"\"0.1.2\""}],"extended_modules":[{"html_id":"time_it/TimeIt","kind":"module","full_name":"TimeIt","name":"TimeIt"}],"doc":"i don't really know what kind of documentation this needs because it\njust feels so painfully straightforward...","summary":"<p>i don't really know what kind of documentation this needs because it just feels so painfully straightforward...</p>","instance_methods":[{"html_id":"format_times(times:Array(Float64)):String-instance-method","name":"format_times","doc":"`format_times` is simply a helper function that formats\nthe times in `time_it`'s *all_times* array into a nice,\nnumbered, and line-broken string for presentation to the\nuser and placement in the log file","summary":"<p><code><a href=\"TimeIt.html#format_times%28times%3AArray%28Float64%29%29%3AString-instance-method\">#format_times</a></code> is simply a helper function that formats the times in <code><a href=\"TimeIt.html#time_it%28exe%3AString%2Cargs%3AArray%28String%29%7CNil%3Dnil%2Cruns%3AInt32%3D10%29%3ATuple%28String%2CString%29-instance-method\">#time_it</a></code>'s <em>all_times</em> array into a nice, numbered, and line-broken string for presentation to the user and placement in the log file</p>","abstract":false,"args":[{"name":"times","external_name":"times","restriction":"Array(Float64)"}],"args_string":"(times : Array(Float64)) : String","args_html":"(times : Array(Float64)) : String","location":{"filename":"src/time_it.cr","line_number":45,"url":null},"def":{"name":"format_times","args":[{"name":"times","external_name":"times","restriction":"Array(Float64)"}],"return_type":"String","visibility":"Public","body":"string = String.new\ni : UInt32 = 0\n\ntimes.each do\n  string = string + \"run ##{i + 1}: #{times[i]}\\n\"\n  i = i + 1\nend\n\nreturn string\n"},"external_var":false},{"html_id":"time_it(exe:String,args:Array(String)|Nil=nil,runs:Int32=10):Tuple(String,String)-instance-method","name":"time_it","doc":"`time_it` is the function that actually times the program.\nit does this by taking a `String` *exe* and (optionally)\nan `Array(String) | Nil` *args*, then feeding\nit to `Process.run` *runs* number of times, timing each run\nand placing it into an array for later formatting.","summary":"<p><code><a href=\"TimeIt.html#time_it%28exe%3AString%2Cargs%3AArray%28String%29%7CNil%3Dnil%2Cruns%3AInt32%3D10%29%3ATuple%28String%2CString%29-instance-method\">#time_it</a></code> is the function that actually times the program.</p>","abstract":false,"args":[{"name":"exe","external_name":"exe","restriction":"String"},{"name":"args","default_value":"nil","external_name":"args","restriction":"Array(String) | Nil"},{"name":"runs","default_value":"10","external_name":"runs","restriction":"Int32"}],"args_string":"(exe : String, args : Array(String) | Nil = nil, runs : Int32 = 10) : Tuple(String, String)","args_html":"(exe : String, args : Array(String) | Nil = <span class=\"n\">nil</span>, runs : Int32 = <span class=\"n\">10</span>) : Tuple(String, String)","location":{"filename":"src/time_it.cr","line_number":12,"url":null},"def":{"name":"time_it","args":[{"name":"exe","external_name":"exe","restriction":"String"},{"name":"args","default_value":"nil","external_name":"args","restriction":"Array(String) | Nil"},{"name":"runs","default_value":"10","external_name":"runs","restriction":"Int32"}],"return_type":"Tuple(String, String)","visibility":"Public","body":"all_times = Array(Float64).new\navg_time : Float64 = 0.0\ni : Int32 = 0\nif args.nil?\n  while !(i == runs)\n    start = Time.monotonic.to_f\n    Process.run(exe)\n    finish = Time.monotonic.to_f\n    all_times << (finish - start)\n    i = i + 1\n  end\nelse\n  while !(i == runs)\n    start = Time.monotonic.to_f\n    Process.run(exe, args)\n    finish = Time.monotonic.to_f\n    all_times << (finish - start)\n    i = i + 1\n  end\nend\n\navg_time = all_times.sum / all_times.size\n\nreturn Tuple.new(\"average time: #{avg_time}\", format_times(all_times))\n"},"external_var":false}]}]}}